(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){e.exports=n(253)},252:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),c=n.n(o),i=n(16),l=n(9),u=n(30),d=n(11),s=n(12),p=n(28),b=n.n(p),f=function(e){return function(t,n){var a=n().activeBoard,r=b()();t({type:m.ADD_LIST,payload:{title:e,boardID:a,id:r}})}},v=function(e,t,n,a,r,o){return function(c,i){var l=i().activeBoard;c({type:m.DRAG_HAPPENED,payload:{droppableIdStart:e,droppableIdEnd:t,droppableIndexEnd:a,droppableIndexStart:n,draggableId:r,type:o,boardID:l}})}},h=function(e,t){var n=b()();return{type:m.ADD_CARD,payload:{text:t,listID:e,id:n}}},m={ADD_CARD:"ADD_CARD",ADD_LIST:"ADD_LIST",DRAG_HAPPENED:"DRAG_HAPPENED",EDIT_CARD:"EDIT_CARD",DELETE_CARD:"DELETE_CARD",EDIT_LIST_TITLE:"EDIT_LIST_TITLE",DELETE_LIST:"DELETE_LIST",SET_ACTIVE_BOARD:"SET_ACTIVE_BOARD",ADD_BOARD:"ADD_BOARD"},E={"list-0":{id:"list-0",cards:["card-0"],title:"\u041c\u0456\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",board:"board-0"}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADD_LIST:var n=t.payload,a=n.title,r=n.id,o={title:a,id:"list-".concat(r),cards:[]};return Object(s.a)({},e,Object(d.a)({},"list-".concat(r),o));case m.ADD_CARD:var c=t.payload,i=c.listID,l=c.id,p=e[i];return p.cards.push("card-".concat(l)),Object(s.a)({},e,Object(d.a)({},i,p));case m.DRAG_HAPPENED:var b=t.payload,f=b.droppableIdStart,v=b.droppableIdEnd,h=b.droppableIndexEnd,D=b.droppableIndexStart;if("list"===b.type)return e;if(f===v){var O,g=e[f],x=g.cards.splice(D,1);return(O=g.cards).splice.apply(O,[h,0].concat(Object(u.a)(x))),Object(s.a)({},e,Object(d.a)({},f,g))}if(f!==v){var j,y,I=e[f],A=I.cards.splice(D,1),w=e[v];return(j=w.cards).splice.apply(j,[h,0].concat(Object(u.a)(A))),Object(s.a)({},e,(y={},Object(d.a)(y,f,I),Object(d.a)(y,v,w),y))}return e;case m.DELETE_CARD:var T=t.payload,_=T.listID,S=T.id,C=e[_],R=C.cards.filter(function(e){return e!==S});return Object(s.a)({},e,Object(d.a)({},_,Object(s.a)({},C,{cards:R})));case m.EDIT_LIST_TITLE:var k=t.payload,L=k.listID,P=k.newTitle,B=e[L];return B.title=P,Object(s.a)({},e,Object(d.a)({},L,B));case m.DELETE_LIST:var F=e;return delete F[t.payload.listID],F;default:return e}},O={"card-0":{text:"\u041c\u043e\u044f \u0437\u0430\u043c\u0456\u0442\u043a\u0430",id:"card-0",list:"list-0"}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADD_CARD:var n=t.payload,a=n.text,r=n.listID,o=n.id,c={text:a,id:"card-".concat(o),list:r};return Object(s.a)({},e,Object(d.a)({},"card-".concat(o),c));case m.EDIT_CARD:var i=t.payload,l=i.id,u=i.newText,p=e[l];return p.text=u,Object(s.a)({},e,Object(d.a)({},"card-".concat(l),p));case m.DELETE_CARD:var b=e;return delete b[t.payload.id],b;default:return e}},x={"board-0":{id:"board-0",lists:["list-0"],title:"\u041c\u043e\u044f \u0434\u043e\u0448\u043a\u0430"}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADD_LIST:var n=t.payload,a=n.boardID,r=n.id,o=e[a],c="list-".concat(r),i=[].concat(Object(u.a)(o.lists),[c]);return o.lists=i,Object(s.a)({},e,Object(d.a)({},a,o));case m.DRAG_HAPPENED:var l=t.payload.boardID,p=e[l],b=p.lists,f=t.payload,v=f.droppableIndexEnd,h=f.droppableIndexStart;if("list"===f.type){var E=b.splice(h,1);return b.splice.apply(b,[v,0].concat(Object(u.a)(E))),p.lists=b,Object(s.a)({},e,Object(d.a)({},l,p))}return e;case m.DELETE_LIST:var D=t.payload,O=D.listID,g=D.boardID,j=e[g],y=j.lists.filter(function(e){return e!==O});return j.lists=y,Object(s.a)({},e,Object(d.a)({},g,j));case m.ADD_BOARD:var I=t.payload,A=I.title,w=I.id,T="board-".concat(w),_={id:T,title:A,lists:[]};return Object(s.a)({},e,Object(d.a)({},T,_));default:return e}};console.log(b()());var y=["board-0"],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADD_BOARD:return[].concat(Object(u.a)(e),["board-".concat(t.payload.id)]);default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SET_ACTIVE_BOARD:return t.payload;default:return e}},w=Object(l.c)({lists:D,cards:g,boards:j,boardOrder:I,activeBoard:A}),T=n(103),_=n(75),S=n(104),C={key:"root",storage:n.n(S).a},R=Object(_.a)(C,w),k=n(36),L=n(37),P=n(40),B=n(38),F=n(41),z=n(39),H=n(32),N=n(5),M=n(31),G=n(60),V=n.n(G),J=n(113),W=n.n(J),$=n(112),q=n.n($),K=n(29),Q=n(6),U=n(24),X=n.n(U),Y=n(107);function Z(){var e=Object(N.a)(["\n  margin-left: 8px;\n  cursor: pointer;\n"]);return Z=function(){return e},e}function ee(){var e=Object(N.a)(["\n  margin-top: 8px;\n  display: flex;\n  align-items: center;\n  margin-left: 8px;\n"]);return ee=function(){return e},e}function te(){var e=Object(N.a)(["\n  resize: none;\n  width: 100%;\n  overflow: hidden;\n  outline: none;\n  border: none;\n"]);return te=function(){return e},e}function ne(){var e=Object(N.a)(["\n  min-height: 85px;\n  padding: 6px 8px 2px;\n"]);return ne=function(){return e},e}function ae(){var e=Object(N.a)(["\n  width: 284px;\n  margin-bottom: 8px;\n"]);return ae=function(){return e},e}var re=r.a.memo(function(e){var t=e.list,n=e.text,a=void 0===n?"":n,o=e.onChange,c=e.closeForm,i=e.children;console.log(t);var l=t?"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u043f\u0438\u0441\u043a\u0443...":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043a\u0430\u0440\u0442\u043a\u0438...";return r.a.createElement(oe,null,r.a.createElement(ce,null,r.a.createElement(ie,{placeholder:l,autoFocus:!0,onFocus:function(e){e.target.select()},value:a,onChange:function(e){return o(e)},onBlur:c})),r.a.createElement(le,null,i,r.a.createElement(ue,{onMouseDown:c},"close")))}),oe=Q.a.div(ae()),ce=Object(Q.a)(V.a)(ne()),ie=Object(Q.a)(Y.a)(te()),le=Q.a.div(ee()),ue=Object(Q.a)(X.a)(Z()),de=n(108),se=n.n(de);function pe(){var e=Object(N.a)(["\n  && {\n    color: white;\n    background: #5aac44;\n  }\n"]);return pe=function(){return e},e}var be=function(e){var t=e.children,n=e.onClick;return r.a.createElement(fe,{variant:"contained",onMouseDown:n},t)},fe=Object(Q.a)(se.a)(pe());function ve(){var e=Object(N.a)(["\n  position: absolute;\n  display: none;\n  right: 5px;\n  bottom: 5px;\n  opacity: 0.5;\n  ",":hover & {\n    display: block;\n    cursor: pointer;\n  }\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return ve=function(){return e},e}function he(){var e=Object(N.a)(["\n  position: absolute;\n  display: none;\n  right: 5px;\n  top: 5px;\n  opacity: 0.5;\n  ",":hover & {\n    display: block;\n    cursor: pointer;\n  }\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return he=function(){return e},e}function me(){var e=Object(N.a)(["\n  margin: 0 0 8px 0;\n  position: relative;\n  max-width: 100%;\n  word-wrap: break-word;\n"]);return me=function(){return e},e}var Ee=r.a.memo(function(e){var t=e.text,n=e.id,o=e.listID,c=e.index,i=e.dispatch,l=Object(a.useState)(!1),u=Object(M.a)(l,2),d=u[0],s=u[1],p=Object(a.useState)(t),b=Object(M.a)(p,2),f=b[0],v=b[1],h=function(e){s(!1)},E=function(e){v(e.target.value)},D=function(e){e.preventDefault(),i(function(e,t,n){return{type:m.EDIT_CARD,payload:{id:e,listID:t,newText:n}}}(n,o,f)),s(!1)},O=function(e){console.log(o),i(function(e,t){return{type:m.DELETE_CARD,payload:{id:e,listID:t}}}(n,o))};return d?r.a.createElement(re,{text:f,onChange:E,closeForm:h},r.a.createElement(be,{onClick:D},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438")):r.a.createElement(K.b,{draggableId:String(n),index:c},function(e){return r.a.createElement(Oe,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,onDoubleClick:function(){return s(!0)}}),r.a.createElement(V.a,null,r.a.createElement(ge,{onMouseDown:function(){return s(!0)},fontSize:"small"},"edit"),r.a.createElement(xe,{fontSize:"small",onMouseDown:O},"delete"),r.a.createElement(q.a,null,r.a.createElement(W.a,null,t))))})}),De=Object(i.b)()(Ee),Oe=Q.a.div(me()),ge=Object(Q.a)(X.a)(he(),Oe),xe=Object(Q.a)(X.a)(ve(),Oe);function je(){var e=Object(N.a)(["\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    border-radius: 3px;\n    height: 36px;\n    margin-left: 8px;\n    width: 300px;\n    padding-left: 10px;\n    padding-right: 10px;\n    opacity: ",";\n    color: ",";\n    background-color: ",";\n  "]);return je=function(){return e},e}var ye=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(P.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={formOpen:!1,text:""},n.openForm=function(){n.setState({formOpen:!0})},n.closeForm=function(e){n.setState({formOpen:!1})},n.handleInputChange=function(e){n.setState({text:e.target.value})},n.handleAddList=function(){var e=n.props.dispatch,t=n.state.text;t&&(n.setState({text:""}),e(f(t)))},n.handleAddCard=function(){var e=n.props,t=e.dispatch,a=e.listID,r=n.state.text;r&&(n.setState({text:""}),t(h(a,r)))},n}return Object(F.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.state.text,t=this.props.list;return this.state.formOpen?r.a.createElement(re,{list:t,text:e,onChange:this.handleInputChange,closeForm:this.closeForm},r.a.createElement(be,{onClick:t?this.handleAddList:this.handleAddCard},t?"\u0414\u043e\u0434\u0430\u0442\u0438 \u0441\u043f\u0438\u0441\u043e\u043a":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0430\u0440\u0442\u043a\u0443")):r.a.createElement(Ie,{list:t,onClick:this.openForm},t?"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0443 \u043a\u0430\u0440\u0442\u043a\u0443")}}]),t}(r.a.PureComponent),Ie=function(e){var t=e.list,n=e.children,a=e.onClick,o=t?1:.5,c=t?"white":"inherit",i=t?"rgba(0,0,0,.15)":"inherit",l=Q.a.div(je(),o,c,i);return r.a.createElement(l,{onClick:a},r.a.createElement(X.a,null,"add"),r.a.createElement("p",{style:{flexShrink:0}},n))},Ae=Object(i.b)()(ye);function we(){var e=Object(N.a)(["\n  transition: background 0.3s ease-in;\n  ",":hover & {\n    background: #ccc;\n  }\n"]);return we=function(){return e},e}function Te(){var e=Object(N.a)(["\n  cursor: pointer;\n  transition: opacity 0.3s ease-in-out;\n  opacity: 0.4;\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return Te=function(){return e},e}function _e(){var e=Object(N.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n"]);return _e=function(){return e},e}function Se(){var e=Object(N.a)(["\n  width: 100%;\n  border: none;\n  outline-color: blue;\n  border-radius: 3px;\n  margin-bottom: 3px;\n  padding: 5px;\n"]);return Se=function(){return e},e}function Ce(){var e=Object(N.a)(["\n  background-color: #dfe3e6;\n  border-radius: 3px;\n  width: 300px;\n  padding: 8px;\n  height: 100%;\n  margin: 0 8px 0 0;\n"]);return Ce=function(){return e},e}var Re=Object(i.b)()(function(e){var t=e.title,n=e.cards,o=e.listID,c=e.index,i=e.dispatch,l=Object(a.useState)(!1),u=Object(M.a)(l,2),d=u[0],s=u[1],p=Object(a.useState)(t),b=Object(M.a)(p,2),f=b[0],v=b[1],h=function(e){e.target.select()},E=function(e){e.preventDefault(),v(e.target.value)},D=function(e){s(!1),i(function(e,t){return{type:m.EDIT_LIST_TITLE,payload:{listID:e,newTitle:t}}}(o,f))},O=function(){i(function(e){return function(t,n){var a=n().activeBoard;return t({type:m.DELETE_LIST,payload:{listID:e,boardID:a}})}}(o))};return r.a.createElement(K.b,{draggableId:String(o),index:c},function(e){return r.a.createElement(ke,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(K.c,{droppableId:String(o),type:"card"},function(e){return r.a.createElement("div",null,r.a.createElement("div",null,d?r.a.createElement("form",{onSubmit:D},r.a.createElement(Le,{type:"text",value:f,onChange:E,autoFocus:!0,onFocus:h,onBlur:D})):r.a.createElement(Pe,{onClick:function(){return s(!0)}},r.a.createElement(Fe,null,f),r.a.createElement(Be,{onClick:O},"delete"))),r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),n.map(function(e,t){return r.a.createElement(De,{key:e.id,text:e.text,id:e.id,index:t,listID:o})}),e.placeholder,r.a.createElement(Ae,{listID:o})))}))})}),ke=Q.a.div(Ce()),Le=Q.a.input(Se()),Pe=Q.a.div(_e()),Be=Object(Q.a)(X.a)(Te()),Fe=Q.a.h4(we(),Pe);function ze(){var e=Object(N.a)(["\n  && {\n    text-decoration: none;\n    color: black;\n    background: white;\n    height: 30px;\n    width: 60px;\n    padding: 10px;\n    margin: 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border-radius: 4px;\n  }\n"]);return ze=function(){return e},e}function He(){var e=Object(N.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return He=function(){return e},e}var Ne=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(P.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=function(e){var t=e.destination,a=e.source,r=e.draggableId,o=e.type;t&&n.props.dispatch(v(a.droppableId,t.droppableId,a.index,t.index,r,o))},n}return Object(F.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.props.match.params.boardID;this.props.dispatch((e=t,{type:m.SET_ACTIVE_BOARD,payload:e}))}},{key:"render",value:function(){var e=this.props,t=e.lists,n=e.cards,a=e.match,o=e.boards[a.params.boardID];if(!o)return r.a.createElement("p",null,"Board not found");var c=o.lists;return r.a.createElement(K.a,{onDragEnd:this.onDragEnd},r.a.createElement(Ve,{to:"/"},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement("h2",null,o.title),r.a.createElement(K.c,{droppableId:"all-lists",direction:"horizontal",type:"list"},function(e){return r.a.createElement(Ge,Object.assign({},e.droppableProps,{ref:e.innerRef}),c.map(function(e,a){var o=t[e];if(o){var c=o.cards.map(function(e){return n[e]});return r.a.createElement(Re,{listID:o.id,key:o.id,title:o.title,cards:c,index:a})}}),e.placeholder,r.a.createElement(Ae,{list:!0}))}))}}]),t}(a.PureComponent),Me=Object(i.b)(function(e){return{lists:e.lists,cards:e.cards,boards:e.boards}})(Ne),Ge=Q.a.div(He()),Ve=Object(Q.a)(z.b)(ze());function Je(){var e=Object(N.a)(["\n  width: 400px;\n  height: 80px;\n  font-size: 22px;\n  padding: 20px;\n  box-sizing: border-box;\n  border-radius: 4px;\n  border: none;\n  outline-color: blue;\n  box-shadow: 0 2px 4px grey;\n  align-self: center;\n"]);return Je=function(){return e},e}function We(){var e=Object(N.a)(["\n  font-size: 48px;\n  color: white;\n  margin-bottom: 10px;\n  font-weight: bold;\n"]);return We=function(){return e},e}function $e(){var e=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-sizing: border-box;\n"]);return $e=function(){return e},e}function qe(){var e=Object(N.a)(["\n  flex: 1;\n  height: 50%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return qe=function(){return e},e}function Ke(){var e=Object(N.a)(["\n  color: #000000;\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(N.a)(["\n  height: 180px;\n  width: 280px;\n  background: #ffffff;\n  padding: 10px;\n  margin: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px grey;\n"]);return Qe=function(){return e},e}var Ue=function(e){var t=e.title;return console.log(t),r.a.createElement(Ye,null,r.a.createElement(Ze,null,t))},Xe=Object(i.b)(function(e){return{boards:e.boards,boardOrder:e.boardOrder}})(function(e){var t=e.boards,n=e.boardOrder,o=e.dispatch,c=Object(a.useState)(""),i=Object(M.a)(c,2),l=i[0],u=i[1],d=function(e){u(e.target.value)},s=function(e){e.preventDefault(),o(function(e){var t=b()();return{type:m.ADD_BOARD,payload:{title:e,id:t}}}(l))};return r.a.createElement(tt,null,r.a.createElement(et,null,n.map(function(e){var n=t[e];return r.a.createElement(z.b,{key:e,to:"/".concat(n.id),style:{textDecoration:"none"}},r.a.createElement(Ue,n))})),r.a.createElement("form",{onSubmit:s,style:{textAlign:"center"}},r.a.createElement(nt,null,"\u0421\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u043d\u043e\u0432\u0443 \u0434\u043e\u0448\u043a\u0443!"),r.a.createElement(at,{onChange:d,value:l,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u043e\u0432\u043e\u0457 \u0434\u043e\u0448\u043a\u0438...",type:"text"})))}),Ye=Q.a.div(Qe()),Ze=Q.a.h4(Ke()),et=Q.a.div(qe()),tt=Q.a.div($e()),nt=Q.a.h3(We()),at=Q.a.input(Je()),rt=function(){return r.a.createElement(z.a,null,r.a.createElement("div",null,r.a.createElement(H.a,{path:"/",exact:!0,component:Xe}),r.a.createElement(H.a,{path:"/:boardID",component:Me})))},ot=function(e){function t(){return Object(k.a)(this,t),Object(P.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement(rt,null)}}]),t}(a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(252);var ct=n(115),it=n.n(ct),lt=n(116),ut=function(){var e=Object(l.e)(R,Object(l.a)(T.a));return{store:e,persistor:Object(_.b)(e)}}(),dt=ut.persistor,st=ut.store;c.a.render(r.a.createElement(i.a,{store:st},r.a.createElement(lt.a,{loading:null,persistor:dt},r.a.createElement(ot,null))),document.getElementById("root")),it()(document).bind("DOMNodeRemoved",function(e){console.log("Removed: "+e.target.nodeName)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,1,2]]]);
//# sourceMappingURL=main.b2a6478f.chunk.js.map